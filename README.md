# Stock Prediction API

[![Python Version](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.103.1-green.svg)](https://fastapi.tiangolo.com/)
[![Docker](https://img.shields.io/badge/docker-ready-blue.svg)](https://www.docker.com/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

A FastAPI-based application for predicting stock prices. This project provides a simple and easy-to-use API to get stock price predictions based on historical data.

## Features

-   **Stock Price Prediction:** Predict future stock prices based on historical data.
-   **Dockerized:** Comes with a `Dockerfile` for easy containerization and deployment.
-   **Input Validation:** Validates the input data to ensure the quality of predictions.
-   **Fast and Asynchronous:** Built with FastAPI for high performance.

## Getting Started

These instructions will get you a copy of the project up and running on your local machine for development and testing purposes.

### Prerequisites

You need to have the following installed on your system:

-   [Python 3.11+](https://www.python.org/downloads/)
-   [Docker](https://www.docker.com/get-started) (for running with Docker)
-   [uv](https://github.com/astral-sh/uv) (for local setup)

### Local Installation

1.  **Clone the repository:**

    ```sh
    git clone <repository-url>
    cd api-seperate
    ```

2.  **Create a virtual environment:**

    ```sh
    python -m venv .venv
    source .venv/bin/activate
    ```

3.  **Install the dependencies using `uv`:**

    ```sh
    uv pip install -r requirements.txt
    ```

### Docker Installation

1.  **Build the Docker image:**

    ```sh
    docker build -t stock-prediction-api .
    ```

2.  **Run the Docker container:**

    ```sh
    docker run -d -p 8000:8000 stock-prediction-api
    ```

## Usage

### Running the Application Locally

To run the application locally, use `uvicorn`:

```sh
uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

The application will be available at `http://localhost:8000`.

### Running with Docker

If you have built and run the Docker container as described above, the application will be available at `http://localhost:8000`.

## API Documentation

The API documentation is automatically generated by FastAPI and is available at `http://localhost:8000/docs` (Swagger UI) or `http://localhost:8000/redoc` (ReDoc) when the application is running.

### Predict Endpoint

-   **URL:** `/predict`
-   **Method:** `POST`
-   **Description:** Predicts stock prices based on historical data.

#### Request Body

```json
{
    "nhead": 5,
    "tradingCode": "STOCK_CODE",
    "history": [
        {
            "date": "2023-01-01",
            "open": 100.0,
            "high": 102.5,
            "low": 99.0,
            "close": 101.5,
            "volume": 10000
        },
        ...
    ]
}
```

-   `nhead` (integer): The number of future days to predict.
-   `tradingCode` (string): The trading code of the stock.
-   `history` (array of objects): A list of historical stock data points.

#### Success Response (200 OK)

```json
{
    "success": true,
    "tradingCode": "STOCK_CODE",
    "predictions": [102.0, 103.5, 103.0, 104.0, 105.5],
    "data_points_used": 100,
    "prediction_dates": ["2023-01-02", "2023-01-03", "2023-01-04", "2023-01-05", "2023-01-06"]
}
```

#### Error Response (4xx or 500)

```json
{
    "detail": "Error message describing the issue."
}
```

## Project Structure

```
.
├── config/             # Configuration files
├── models/             # Pydantic models for request and response
├── routes/             # API routes (endpoints)
├── services/           # Business logic (prediction, validation)
├── utils/              # Utility functions (artifacts, preprocessing)
├── main.py             # Main application file
├── Dockerfile          # Docker configuration
├── requirements.txt    # Project dependencies
└── README.md           # This file
```

## License

This project is licensed under the MIT License - see the [LICENSE.md](LICENSE.md) file for details.
